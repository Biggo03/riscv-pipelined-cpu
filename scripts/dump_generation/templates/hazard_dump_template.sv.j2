//==============================================================//
//  Task File:    {{ stage_name }}_dump_tasks.sv
//  Description:  Auto-generated dump tasks for the '{{ stage_name }}'
//                pipeline stage. Contains hierarchical field dumpers
//                for each struct category ({% for c in hazard_info.keys() %}{{ c }}{% if not loop.last %}, {% endif %}{% endfor %}),
//                used by the top-level pipeline_monitor.
//
//  Author:       Viggo Wozniak
//  Project:      RISC-V Processor
//  Repository:   https://github.com/Biggo03/RISC-V-Pipelined
//
//  Parameters:   N/A
//
//  Notes:        This file is auto-generated. Any modifications
//                should be made in the generator scripts or the
//                associated Jinja template. Do not edit manually.
//==============================================================//

task automatic dump_hazard_unit(int reg_dump_handle);
    $fdisplay(reg_dump_handle, "{{ indent_levels.stage }}hazard_unit:");
    {%- for signal_category in hazard_info.keys() %}
    dump_hazard_unit_{{ signal_category }}(reg_dump_handle);
    {%- endfor %}
endtask

{%- for category in hazard_info.keys() %}

task automatic dump_hazard_unit_{{ category }}(int reg_dump_handle);
begin
    $fdisplay(reg_dump_handle, "{{ indent_levels.category + category }}:");

{%- for signal in hazard_info[category] %}
    $fdisplay(reg_dump_handle, "{{ indent_levels.signal + signal}}: 0x%h", `HAZARD_UNIT_HIER.{{ signal }});
{%- endfor %}
end
endtask;

{%- endfor %}

